# ìë°”ì˜ ë©”ëª¨ë¦¬ êµ¬ì¡°
## ìŠ¤íƒ/í™/ë©”ì„œë“œ ì˜ì—­

### ë¶•ì–´ë¹µê³¼ ë¶•ì–´ë¹µí‹€ì— ë¹„ìœ 
ìë°”ì˜ ë©”ëª¨ë¦¬ êµ¬ì¡°ëŠ” í¬ê²Œ ìŠ¤íƒ ì˜ì—­, ë©”ì„œë“œ ì˜ì—­, í™ ì˜ì—­ 3ê°œë¡œ ë‚˜ëˆŒ ìˆ˜ ìˆë‹¤.
<img src="https://github.com/JavaGrowthStudy/java-study/assets/88030238/791e7985-fa57-4a6c-94e5-25a03dbd1958" width="60%">

- **`ë©”ì„œë“œ ì˜ì—­`**
  - í´ë˜ìŠ¤ ì •ë³´ë¥¼ ë³´ê´€í•˜ëŠ” ì˜ì—­. ì´ë•Œ, `í´ë˜ìŠ¤ ì •ë³´` == `ë¶•ì–´ë¹µ í‹€`
- **`ìŠ¤íƒ ì˜ì—­`**
  - ì‹¤ì œ í”„ë¡œê·¸ë¨ì´ ì‹¤í–‰ë˜ëŠ” ì˜ì—­
  - ë©”ì„œë“œë¥¼ ì‹¤í–‰í•  ë•Œë§ˆë‹¤ í•˜ë‚˜ì”© ìŒ“ì¸ë‹¤.
- **`í™ ì˜ì—­`**
  - ê°ì²´(ì¸ìŠ¤í„´ìŠ¤)ê°€ ìƒì„±ë˜ëŠ” ì˜ì—­
  - new ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ë©´ ì´ ì˜ì—­ì´ ì´ìš©ë¨
  - ë¶•ì–´ë¹µ í‹€ë¡œë¶€í„° ìƒì„±ëœ ë¶•ì–´ë¹µì´ ì¡´ì¬í•˜ëŠ” ê³µê°„!
  - ë°°ì—´ë„ ì´ ì˜ì—­ì— ìƒì„±ë¨

### ë©”ì„œë“œ ì˜ì—­
- í”„ë¡œê·¸ë¨ì„ ì‹¤í–‰í•˜ëŠ”ë° í•„ìš”í•œ **ê³µí†µ ë°ì´í„°**ë¥¼ ê´€ë¦¬
  - í´ë˜ìŠ¤ ì •ë³´, static ì˜ì—­, ìƒìˆ˜ í’€ì´ ìˆìŒ
- í”„ë¡œê·¸ë¨ì˜ ëª¨ë“  ì˜ì—­ì—ì„œ ë©”ì„œë“œ ì˜ì—­ì´ ê³µìœ ëœë‹¤.
#### í´ë˜ìŠ¤ ì •ë³´
- ëª¨ë“  ì‹¤í–‰ ì½”ë“œê°€ ì¡´ì¬ (í´ë˜ìŠ¤ì˜ ì‹¤í–‰ ì½”ë“œ(byte ì½”ë“œ), í•„ë“œ, ë©”ì„œë“œì™€ ìƒì„±ì ì½”ë“œ ë“±)
#### static ì˜ì—­
- static ë³€ìˆ˜ë“¤ì„ ë³´ê´€
#### ìƒìˆ˜ í’€
- í”„ë¡œê·¸ë¨ì„ ì‹¤í–‰í•˜ëŠ”ë° í•„ìš”í•œ **ê³µí†µ ë¦¬í„°ëŸ´ ìƒìˆ˜**ë¥¼ ë³´ê´€
  - ex) í”„ë¡œê·¸ë¨ì— "hello"ë¼ëŠ” ë¦¬í„°ëŸ´ ë¬¸ìê°€ ìˆìœ¼ë©´, ì´ëŸ° ë¬¸ìë“¤ì„ ê³µí†µìœ¼ë¡œ ë¬¶ì–´ì„œ ê´€ë¦¬
- í”„ë¡œê·¸ë¨ì„ íš¨ìœ¨ì ìœ¼ë¡œ ê´€ë¦¬í•˜ê¸° ìœ„í•œ ìƒìˆ˜ë“¤ì„ ê´€ë¦¬

#### ë©”ì„œë“œ ì½”ë“œ
<img src="https://github.com/JavaGrowthStudy/java-study/assets/88030238/2a57452f-ee3b-4ceb-99fa-bf05124bcf9e" width="60%">

- ìë°”ì—ì„œ íŠ¹ì • í´ë˜ìŠ¤ë¡œ 100ê°œì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•˜ë©´, í™ ë©”ëª¨ë¦¬ì— 100ê°œì˜ ì¸ìŠ¤í„´ìŠ¤ê°€ ìƒê¹€.
- ê°ê°ì˜ ì¸ìŠ¤í„´ìŠ¤ëŠ” ë‚´ë¶€ì— ë³€ìˆ˜ & ë©”ì„œë“œë¥¼ ê°€ì§.
- ê°™ì€ í´ë˜ìŠ¤ë¡œë¶€í„° ìƒì„±ëœ ê°ì²´ë”ë¼ë„ ì¸ìŠ¤í„´ìŠ¤ ë‚´ë¶€ì˜ ë³€ìˆ˜ ê°’ì€ ì„œë¡œ ë‹¤ë¥¼ ìˆ˜ ìˆë‹¤. ê·¸ë˜ë„, ë©”ì„œë“œëŠ” ê³µí†µëœ ì½”ë“œë¥¼ ê³µìœ í•œë‹¤.
  <br> -> ê°ì²´ê°€ ìƒì„±ë  ë•Œ, ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜ì—ëŠ” ë©”ëª¨ë¦¬ê°€ í• ë‹¹ë˜ì§€ë§Œ, ë©”ì„œë“œì— ëŒ€í•œ ìƒˆë¡œìš´ ë©”ëª¨ë¦¬ í• ë‹¹ì€ ì—†ë‹¤.
  <br> => ì¸ìŠ¤í„´ìŠ¤ì˜ ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ë©´, ì‹¤ì œë¡œëŠ” ë©”ì„œë“œ ì˜ì—­ì— ìˆëŠ” ì½”ë“œë¥¼ ë¶ˆëŸ¬ì„œ ìˆ˜í–‰í•˜ëŠ” ê²ƒ!
<br>

### ìŠ¤íƒ ì˜ì—­
- ìë°”ë¥¼ ì‹¤í–‰í•˜ë©´, í•˜ë‚˜ì˜ **`ì‹¤í–‰ ìŠ¤íƒ`** ì´ ìƒì„±ëœë‹¤.
- ê° **`ìŠ¤íƒ í”„ë ˆì„`** ì€ `ì§€ì—­ ë³€ìˆ˜`, `ì¤‘ê°„ ì—°ì‚° ê²°ê³¼`, `ë©”ì„œë“œ í˜¸ì¶œ ì •ë³´` ë“±ì„ í¬í•¨í•œë‹¤.
  - **`ìŠ¤íƒ í”„ë ˆì„`**
    - ìŠ¤íƒ ì˜ì—­ì— ìŒ“ì´ëŠ” í•˜ë‚˜ì˜ ë„¤ëª¨ ë°•ìŠ¤
    - ë©”ì„œë“œë¥¼ í˜¸ì¶œí•  ë•Œë§ˆë‹¤ í•˜ë‚˜ì˜ ìŠ¤íƒ í”„ë ˆì„ì´ ìŒ“ì¸ë‹¤.
    - ë©”ì„œë“œê°€ ì¢…ë£Œë˜ë©´ í•´ë‹¹ ìŠ¤íƒ í”„ë ˆì„ì´ ì œê±°ëœë‹¤.
    > ë” ì •í™•íˆëŠ”, ìŠ¤íƒ ì˜ì—­ì€ ê° ìŠ¤ë ˆë“œë³„ë¡œ í•˜ë‚˜ì˜ ì‹¤í–‰ ìŠ¤íƒì´ ìƒì„±ëœë‹¤.
    > ë”°ë¼ì„œ, ìŠ¤ë ˆë“œ ìˆ˜ ë§Œí¼ ìŠ¤íƒ ì˜ì—­ì´ ìƒì„±ëœë‹¤.

#### ìŠ¤íƒì˜ì—­ê³¼ ìë°” ì½”ë“œ
```java
package memory;
public class JavaMemoryMain1 {
	public static void main(String[] args) {
		System.out.println("main start");
		method1(10);
		System.out.println("main end");
	}
	static void method1(int m1) {
		System.out.println("method1 start");
		int cal = m1 * 2;
		method2(cal);
		System.out.println("method1 end");
	}
	static void method2(int m2) {
		System.out.println("method2 start");
		System.out.println("method2 end");
	}
}
```
```
main start
method1 start
method2 start
method2 end
method1 end
main end
```
<img src="https://github.com/JavaGrowthStudy/java-study/assets/88030238/bbbf28b8-d49c-4117-a9b7-820ca7a23528" width="60%">
<img src="https://github.com/JavaGrowthStudy/java-study/assets/88030238/467e160e-4bbc-4e5b-bbd1-0c35f86dff16" width="60%">

- ìë°”ëŠ” **ìŠ¤íƒ ì˜ì—­**ì„ ì‚¬ìš©í•´ì„œ `ë©”ì„œë“œ í˜¸ì¶œ`ê³¼ `ì§€ì—­ ë³€ìˆ˜(ë§¤ê°œë³€ìˆ˜ í¬í•¨)`ë¥¼ ê´€ë¦¬í•œë‹¤.
- ë©”ì„œë“œë¥¼ ê³„ì† í˜¸ì¶œí•˜ë©´ `ìŠ¤íƒ í”„ë ˆì„`ì´ ê³„ì† ìŒ“ì¸ë‹¤.
- ìŠ¤íƒ í”„ë ˆì„ì´ ì¢…ë£Œë˜ë©´ **ì§€ì—­ ë³€ìˆ˜ë„ í•¨ê»˜ ì œê±°**ëœë‹¤.
- **ìŠ¤íƒ í”„ë ˆì„ì´ ëª¨ë‘ ì œê±°ë˜ë©´ í”„ë¡œê·¸ë¨ë„ ì¢…ë£Œ**ëœë‹¤.

### í™ ì˜ì—­
- ê°ì²´ì™€ ë°°ì—´ì´ ìƒì„±ë˜ëŠ” ì˜ì—­
- ê°€ë¹„ì§€ ì»¬ë ‰ì…˜(GC)ì´ ì´ë£¨ì–´ì§€ëŠ” ì£¼ìš” ì˜ì—­
- ë”ì´ìƒ ì°¸ì¡°ë˜ì§€ ì•ŠëŠ” ê°ì²´ëŠ” GCì— ì˜í•´ ì œê±°ë¨

> **Garbage Collection(GC)** <br>
> - ìë°”ì˜ ë©”ëª¨ë¦¬ ê´€ë¦¬ ë°©ë²• ì¤‘ì˜ í•˜ë‚˜
> - JVM(ìë°” ê°€ìƒ ë¨¸ì‹ )ì˜ Heap ì˜ì—­ì—ì„œÂ ë™ì ìœ¼ë¡œ í• ë‹¹í–ˆë˜ ë©”ëª¨ë¦¬ ì¤‘ì—ì„œ, í•„ìš” ì—†ê²Œ ëœ ë©”ëª¨ë¦¬ ê°ì²´(garbage)ë¥¼ ëª¨ì•„ì„œ ì£¼ê¸°ì ìœ¼ë¡œ ì œê±°í•˜ëŠ” í”„ë¡œì„¸ìŠ¤


> **ğŸ’¡ PC Register** <br>
> ìŠ¤ë ˆë“œê°€ ìƒì„±ë  ë•Œë§ˆë‹¤ ìƒê¸°ëŠ” ê³µê°„. ìŠ¤ë ˆë“œê°€ ì‹¤í–‰í•˜ê²Œ ë  ëª…ë ¹ì— ëŒ€í•œ ë¶€ë¶„ì„ ê¸°ë¡í•œë‹¤.

> **ğŸ’¡ Native Method Stack** <br>
>  ìë°” í”„ë¡œê·¸ë˜ë° ì–¸ì–´ ì´ì™¸ì˜ ì–¸ì–´ë¡œ ì‘ì„±ëœ ë©”ì„œë“œ(Native Method)ë¥¼ ì§€ì›í•˜ê¸° ìœ„í•œ ìŠ¤íƒ

## ìŠ¤íƒ ì˜ì—­ê³¼ í™ ì˜ì—­ì´ ê°™ì´ ì“°ì¼ ë•Œ
#### Data
```java
package memory;
public class Data {
	private int value;
	
	public Data(int value) {
		this.value = value;
	}
	
	public int getValue() {
		return value;
	}
}
```
#### JavaMemoryMain2
```java
package memory;
public class JavaMemoryMain2 {

	public static void main(String[] args) {
		System.out.println("main start");
		method1();
		System.out.println("main end");
	}
	
	static void method1() {
		System.out.println("method1 start");
		Data data1 = new Data(10);
		method2(data1);
		System.out.println("method1 end");
	}
	
	static void method2(Data data2) {
		System.out.println("method2 start");
		System.out.println("data.value=" + data2.getValue());
		System.out.println("method2 end");
	}
	
}
// method1() ì—ì„œ Data í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•œë‹¤.
// method1() ì—ì„œ method2() ë¥¼ í˜¸ì¶œí•  ë•Œ ë§¤ê°œë³€ìˆ˜ì— Data ì¸ìŠ¤í„´ìŠ¤ì˜ ì°¸ì¡°ê°’ì„ ì „ë‹¬í•œë‹¤
```

```
main start
method1 start
method2 start
data.value=10
method2 end
method1 end
main end
```

**1. `main()` ì‹¤í–‰**

<img src="https://github.com/JavaGrowthStudy/java-study/assets/88030238/3cc2a20b-b0d7-4a16-ba44-1137ffe1a5f7" width="20%">

**2. `method1()` ì‹¤í–‰**

<img src="https://github.com/JavaGrowthStudy/java-study/assets/88030238/c430d874-5b35-4a83-b8d8-6d3f07191b7c" width="40%">

**3. `method2()` ì‹¤í–‰**

<img src="https://github.com/JavaGrowthStudy/java-study/assets/88030238/eff15303-8938-47ad-8290-29077c9f1103" width="40%">

**4. `method2()` ì¢…ë£Œ**

<img src="https://github.com/JavaGrowthStudy/java-study/assets/88030238/101370ae-f972-4177-97c6-97679e46f5aa" width="40%">

**5. `method1()` ì¢…ë£Œ**

<img src="https://github.com/JavaGrowthStudy/java-study/assets/88030238/2b09317e-96f5-422a-beb6-a7580aecbf34" width="40%">

**6. `method1()` ì¢…ë£Œ ì§í›„**

<img src="https://github.com/JavaGrowthStudy/java-study/assets/88030238/0a67716a-e767-4462-9f7d-34efa358a1a3" width="50%">
